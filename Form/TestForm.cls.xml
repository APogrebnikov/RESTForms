<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Form.TestForm">
<Super>%Persistent,Form.Adaptor,%Populate</Super>
<TimeCreated>64090,75943.393938</TimeCreated>

<Parameter name="FORMNAME">
<Description>
Form name, not a global key so it can be anything</Description>
<Default>Тестовая форма</Default>
</Parameter>

<Parameter name="OBJPERMISSIONS">
<Description>
Default permissions
Objects of this form can be Created, Read, Updated and Deleted
Redefine this parameter to change permissions for everyone
Redefine checkPermission method (see Form.Security) for this class 
to add custom security based on user/roles/etc.</Description>
<Type>%String</Type>
<Default>CRUD</Default>
</Parameter>

<Property name="displayName">
<Description>
The main property describing this object, automatically computes 
on insert or update (for SQL) or on save (for object access)</Description>
<Type>%String</Type>
<SqlComputeCode>set {*} = {text}</SqlComputeCode>
<SqlComputed>1</SqlComputed>
<SqlComputeOnChange>%%INSERT,%%UPDATE</SqlComputeOnChange>
<Parameter name="DISPLAYNAME" value="Имя"/>
</Property>

<UDLText name="T">
<Content><![CDATA[
// TestForm properties below. Mandatory part above. 

]]></Content>
</UDLText>

<Property name="text">
<Type>%String</Type>
<Parameter name="DISPLAYNAME" value="Текст"/>
</Property>

<Method name="recreate">
<Description>
do ##class(Form.TestForm).recreate()</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>count:%Integer=10,verbose:%Boolean=$$$NO</FormalSpec>
<Implementation><![CDATA[
	do ..%DeleteExtent()
	do ..Populate(count, verbose)
]]></Implementation>
</Method>

<Method name="recreate2">
<Description>
do ##class(Form.TestForm).recreate2()</Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	do ..%DeleteExtent()
	set obj = ..%New()
	set obj.Text = 123
	write obj.%Save()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^Form.TestFormD</DataLocation>
<DefaultData>TestFormDefaultData</DefaultData>
<IdLocation>^Form.TestFormD</IdLocation>
<IndexLocation>^Form.TestFormI</IndexLocation>
<StreamLocation>^Form.TestFormS</StreamLocation>
<Data name="TestFormDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>displayName</Value>
</Value>
<Value name="3">
<Value>text</Value>
</Value>
</Data>
</Storage>
</Class>
</Export>
