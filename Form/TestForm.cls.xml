<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Form.TestForm">
<Super>%Persistent,Form.Adaptor,%Populate</Super>
<TimeCreated>64090,75943.393938</TimeCreated>

<Parameter name="FORMNAME">
<Description>
Form name, not a global key so it can be anything</Description>
<Default>Тестовая форма</Default>
</Parameter>

<Parameter name="OBJPERMISSIONS">
<Description>
Default permissions
Objects of this form can be Created, Read, Updated and Deleted
Redefine this parameter to change permissions for everyone
Redefine checkPermission method (see Form.Security) for this class 
to add custom security based on user/roles/etc.</Description>
<Type>%String</Type>
<Default>CRUD</Default>
</Parameter>

<Parameter name="DISPLAYPROPERTY">
<Description>
Property used for basic information about the object
By default getObjectDisplayName method gets its value from it</Description>
<Type>%String</Type>
<Default>displayName</Default>
</Parameter>

<UDLText name="T">
<Content><![CDATA[
// TestForm properties below. Mandatory part above. 

]]></Content>
</UDLText>

<Property name="displayName">
<Description>
The main property describing this object, automatically computes 
on insert or update (for SQL) or on save (for object access)</Description>
<Type>%String</Type>
<SqlComputeCode>set {*} = {text}</SqlComputeCode>
<SqlComputed>1</SqlComputed>
<SqlComputeOnChange>%%INSERT,%%UPDATE</SqlComputeOnChange>
<Parameter name="DISPLAYNAME" value="Имя"/>
</Property>

<Property name="text">
<Type>%String</Type>
<Parameter name="DISPLAYNAME" value="Текст"/>
</Property>

<Property name="gender">
<Type>%String</Type>
<Parameter name="DISPLAYLIST" value=",М,Ж"/>
<Parameter name="DISPLAYNAME" value="Пол"/>
<Parameter name="VALUELIST" value=",1,2"/>
</Property>

<Method name="recreate">
<Description>
do ##class(Form.TestForm).recreate()</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>count:%Integer=10,verbose:%Boolean=$$$NO</FormalSpec>
<Implementation><![CDATA[
	do ..%DeleteExtent()
	do ..Populate(count, verbose)
]]></Implementation>
</Method>

<Method name="recreate2">
<Description>
do ##class(Form.TestForm).recreate2()</Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	do ..%DeleteExtent()
	set obj = ..%New()
	set obj.Text = 123
	write obj.%Save()
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Library.CacheStorage</Type>
<DataLocation>^Form.TestFormD</DataLocation>
<DefaultData>TestFormDefaultData</DefaultData>
<IdLocation>^Form.TestFormD</IdLocation>
<IndexLocation>^Form.TestFormI</IndexLocation>
<StreamLocation>^Form.TestFormS</StreamLocation>
<ExtentSize>10</ExtentSize>
<Data name="TestFormDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>displayName</Value>
</Value>
<Value name="3">
<Value>text</Value>
</Value>
<Value name="4">
<Value>gender</Value>
</Value>
</Data>
<Property name="%%CLASSNAME">
<Selectivity>100.0000%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="%%ID">
<Selectivity>1</Selectivity>
<AverageFieldSize>1.1</AverageFieldSize>
</Property>
<Property name="displayName">
<Selectivity>10.0000%</Selectivity>
<AverageFieldSize>4.8</AverageFieldSize>
</Property>
<Property name="gender">
<Selectivity>50.0000%</Selectivity>
<AverageFieldSize>1</AverageFieldSize>
</Property>
<Property name="text">
<Selectivity>10.0000%</Selectivity>
<AverageFieldSize>4.8</AverageFieldSize>
</Property>
<SQLMap name="IDKEY">
<BlockCount>-4</BlockCount>
</SQLMap>
</Storage>
</Class>
</Export>
